@import "../../node_modules/normalize.css/normalize"
$fa-font-path:        "../assets/fonts" !default;
@import "../../node_modules/font-awesome/scss/font-awesome"
@import "mixins"

$black: hsl(0, 0%, 20%)
$white: hsl(0, 0%, 100%)
$header-height: 3em
$header-height-m: 4em

$sidebar-width-m: 110px
$sidebar-width-l: 200px

*
  box-sizing: border-box

html
  font-size: 62.5%

body
  font-size: 1.4rem

// --- CONTENT --- //
.cd-main-content
  @extend %clearfix
  .content-wrapper
    padding-top: $header-height
    padding-left: 5%
    padding-right: 5%
  
  // trick to check size
  &::before
    display: none
    content: "small"

    &::before
      content: "medium"

  +mq(L)
    &::before
      content: "large"

// --- CONTENT --- //
.content-wrapper
  +mq(M)
    margin-left: $sidebar-width-m

  +mq(L)
    margin-left: $sidebar-width-l

// --- HEADER --- //
.cd-main-header
  position: absolute
  background: $black
  width: 100%
  top: 0
  left: 0
  @extend %clearfix
  height: $header-height
  z-index: 2
  box-shadow: 0 2px 10px 0px hsla(0, 0%, 0%, 0.3)

  +mq(M)
    height: $header-height-m
    position: fixed

  .cd-search
    float: left
    height: $header-height-m
    
    input
      background: transparent
      border: none
      outline: none

.cd-logo
  float: left
  display: block
  height: $header-height - 1em
  padding: 0.5em

  img
    display: block
    background: hsl(190, 50%, 30%)
    height: 100%

  .cd-search

    input
      width: 100%
      height: 100%
      outline: none

      &:focus
        outline: none

  +mq(M)
    height: $header-height-m - 1em



// --- Menu trigger
.cd-nav-trigger
  float: right
  position: relative
  overflow: hidden;
  white-space: nowrap;
  color: transparent;
  width: 2em
  height: 2em
  margin-right: 1rem

  span, 
  span::before,
  span::after
    content: ""
    position: absolute
    width: 100%
    background-color: white
    height: 0.25em
    left: 0
  
  span
    top: 50%
    transform: translateY(-50%)

  span::before
    top: -0.5em

  span::after
    top: 0.5em

  +mq(M)
    display: none

// --- TOP NAV ---
.cd-nav
  display: none

  +mq(M)
    display: block
    float: right

// --- SIDE-NAV ---
.cd-side-nav
  position: absolute
  left: 0
  top: 0
  width: 100%
  visibility: hidden
  opacity: 0
  transition: opacity 0.2s 0, visibility 0 0.2s
  padding-top: $header-height
  background: $black
  min-height: 100vh

  +mq(M)
    padding-top: $header-height-m

  .cd-search
    display: block
    padding: 1em 2em

    input
      width: 100%
      border: 1px solid lighten($black, 5%)
      border-radius: 3px
      padding: 0.5em 1em
      box-sizing: border-box

  &.show-nav
    opacity: 1
    visibility: visible
    transition: opacity 0.2s 0s, visibility 0s 0s
  
  .cd-label
    text-transform: uppercase
    font-weight: bold
    color: lighten($black, 15%)
    padding: 1em (2em / 0.8)
    font-size: 0.8em

    +mq(M)
      display: none

  >ul
    margin: 0
    padding: 0

    >li
      list-style-type: none

      >a
        display: block
        position: relative
        padding: 1em 3.5em
        border-bottom: 1px solid lighten($black, 3%)
        color: darken($white, 20%)
        text-decoration: none

        &::before
          font-family: "FontAwesome"
          position: absolute
          height: 1em
          width: 1em
          top: 50%
          transform: translateY(-50%)
          content: "\f114"
          left: 2em
          color: lighten($black, 10%)

  .has-child
    position: relative
  
    >a::after
      font-family: "FontAwesome"
      position: absolute
      height: 1em
      width: 1em
      top: 50%
      transform: translateY(-50%)
      content: "\f078"
      right: 2em

    ul
      display: none
      margin: 0
      padding: 0

      >li
        list-style: none

        >a
          display: block
          text-decoration: none
          color: $white
          background: darken($black, 3%)
          padding: 1em 2em
          position: relative
          white-space: nowrap;

    +mq(M)
      ul
        position: absolute
        top: 0
        left: 100%

    &.active
      background: darken($black, 2%)

    &.selected
      >ul
        display: block
      >a::after
        content: "\f077"

  .notifications
    >a::before
      content: "\f0f3"
    .count
      position: absolute
      padding: 0.2em 0.4em
      top: 50%
      transform: translateY(-50%)
      right: 3.5em
      background: darken($white, 20%)
      border-radius: 2px
      color: $black
      font-weight: bold

      +mq(M)
        width: 0.75em
        height: 0.75em
        border-radius: 50%
        padding: 0
        color: transparent
        top: 2em
        left: 50%
        transform: translate(0.3em, -0.4em)

  +mq(M)
    position: relative
    float: left
    width: $sidebar-width-m
    visibility: visible
    opacity: 1
    
    >ul>li
      >a
        padding: 3em 1em 2em 1em
        text-align: center
        
        &::before
          top: 2em
          left: 50%
          transform: translate(-50%, 0)

        &::after
          display: none
  //- end sidebar medium
  
  +mq(L)
    width: $sidebar-width-l

    >ul>li
      >a
        padding: 1em 1em 1em 2.5em
        text-align: left
        
        &::before
          top: 50%
          transform: translateY(-50%)
          left: 1em

        &::after
          display: none

    .notifications
      .count
        padding: 0.2em 0.4em
        top: 50%
        transform: translateY(-50%)
        right: 1em
        left: initial
        background: darken($white, 20%)
        border-radius: 2px
        color: $black
        width: initial
        height: initial
    
    .has-child.active
      >ul
        display: block
        position: relative
        left: initial

.cd-nav
  height: 100%

  .cd-top-nav
    height: 100%
    @extend %clearfix
    padding: 0
    margin: 0

    >li
      list-style: none
      display: inline-block
      height: 100%
      position: relative
      
      >a
        text-decoration: none
        color: $white
        display: block
        line-height: $header-height-m
        padding: 0 1em
      
    .has-child
      ul
        display: none
        position: absolute
        right: 0
        top: 100%
        padding: 0
        margin: 0
        box-shadow: 0 2px 10px 0px hsla(0, 0%, 0%, 0.3)
        
        li
          list-style-type: none

          a
            text-decoration: none
            white-space: nowrap
            color: $white
            display: block
            background: $black
            padding: 1em 2em

      &.selected
        ul
          display: block

